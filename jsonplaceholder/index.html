<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Learning To Use Fake APIs</title>
	</head>
	<body>
		<h1>Fake Users</h1>
		<div id="response"></div>
	</body>
</html>

<script>
    // setTimeout(function () {
// 	console.log('hello');
// }, 3000);

// example
// javascript is traditionally synchronous
// executes from top to bottom.

// function asyncTest() {
// 	console.log('A');
// 	console.log('B');
// 	console.log('C');
// }

// asyncTest();

// example 2
// B takes 2 seconds more to load out

// function asyncTest2() {
// 	console.log('A');
// 	setTimeout(function () {
// 		console.log('B');
// 	}, 3000);
// 	console.log('C');
// }

// asyncTest2();

// fetching data
function fetchUserData() {
	fetch('https://jsonplaceholder.typicode.com/users/1')
		.then((response) => response.json())
		.then((json) => console.log(json, 'fetchUserData'));
}
fetchUserData();

function fetchWithoutThen() {
	fetch('https://jsonplaceholder.typicode.com/users/1').then((response) =>
		console.log(response.json(), 'fetchWithoutThen')
	);
}
fetchWithoutThen();

function renderAllData() {
	fetch('https://jsonplaceholder.typicode.com/users/')
		.then((response) => response.json())
		.then((json) => {
			// console.log(json);
			let output = '<h2>All Users</h2>';
			output += `<ul>`;
			json.forEach(function (user) {
				output += `<li>${user.name}</li>`;
			});
			output += `</ul>`;
			document.getElementById('response').innerHTML = output;
		});
}
renderAllData();

function fetchWithoutParse() {
	fetch('https://jsonplaceholder.typicode.com/users/1')
		.then((response) => response)
		.then((json) => console.log(json, 'fetchWithoutParse'));
}
fetchWithoutParse();

function fetchWithCatch() {
	fetch('https://jsonplaceholder.typicode.com/users/1')
		.then((response) => response.json())
		.then((json) => console.log(json, 'fetchWithCatch'))
		.catch((err) => {
			console.log(err);
		});
}
fetchWithCatch();

</script>
</html>